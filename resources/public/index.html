<html ng-app="cashApp">
  <head>
    <meta charset="utf-8">
    <title>Cash Plan</title>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.8/angular.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.13.0/moment.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.5.8/angular-animate.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.5.8/angular-touch.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular-ui-bootstrap/2.2.0/ui-bootstrap.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular-ui-bootstrap/2.2.0/ui-bootstrap-tpls.js"></script>
		<script src="/js/app.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"/>
	</head>
	<body ng-controller="cashController">
    <div class="container">
      <h1> Cash Plan </h1>
      <div class="row">
        <div class="col-sm-3">
          <input type="text" placeholder ="내용" ng-model="item" class="form-control">
        </div>
        <div class="col-sm-3">
          <input type="text" placeholder ="가격" ng-model="money" class="form-control">
        </div>
        <div class="col-sm-2">
          <input type="text" ng-model="selectedCategory" placeholder="카테고리 선택" uib-typeahead="x as x.name  for x in categories | filter:{name:$viewValue} | limitTo:8" typeahead-show-hint="true" typeahead-min-length="0" class="form-control">
        </div>
        <div class="col-sm-2">
          <input type="text" ng-model="selectedAccount" placeholder="계좌 선택" uib-typeahead="x as x.name  for x in accounts | filter:{name:$viewValue} | limitTo:8" typeahead-show-hint="true" typeahead-min-length="0" class="form-control">
        </div>
        <div class="col-sm-2">
          <button type="button" class="btn btn-primary" ng-click="addData()">
            입력
          </button>
        </div>
      </div>

      <br/>

      <div class="row" style="background-color:silver">
        <div class="col-xs-2">날짜</div>
        <div class="col-xs-2">사용 내역</div>
        <div class="col-xs-2">금액</div>
        <div class="col-xs-2">카테고리</div>
        <div class="col-xs-2">계좌</div>
      </div>
      <div class="row" ng-repeat="data in datas">
        <div class="col-xs-2">{{data.input_time}}</div>
        <div class="col-xs-2">{{data.item}}</div>
        <div class="col-xs-2">{{data.money}}</div>
        <div class="col-xs-2">{{data.category}}</div>
        <div class="col-xs-2">{{data.account}}</div>
      </div>
      <div class="row">
        <div class="col-xs-6">총계</div>
        <div class="col-xs-6">{{balance}}</div>
      </div>

      <br/>

      <div class="row" style="background-color:silver">
        <div class="col-xs-4">카테고리</div>
        <div class="col-xs-4">잔고</div>
        <div class="col-xs-4">type</div>
      </div>
      <div class="row" ng-repeat="category in categories">
        <div class="col-xs-4">{{category.name}}</div>
        <div class="col-xs-4">{{category.money}}</div>
        <div class="col-xs-4">{{category.type}}</div>
      </div>
      <br/>
      <div class="row" style="background-color:silver">
        <div class="col-xs-6">계좌</div>
        <div class="col-xs-6">잔고</div>
      </div>
      <div class="row" ng-repeat="account in accounts">
        <div class="col-xs-6">{{account.name}}</div>
        <div class="col-xs-6">{{account.balance}}</div>
      </div>

      <br/>

      <button type="button" class="btn btn-default" ng-click="isCollapsed = !isCollapsed">설정</button>
      <hr>
      <div uib-collapse="isCollapsed">
        <div class="well well-lg">
          <div class="row">
          <div class="col-sm-3">
            <input type="text" placeholder ="카테고리" ng-model="newCategory" class="form-control">
            <div class="btn-group">
              <label class="btn btn-success" ng-model="newCategoryType" uib-btn-radio="'in'" uncheckable>수입</label>
              <label class="btn btn-success" ng-model="newCategoryType" uib-btn-radio="'out'" uncheckable>지출</label>
            </div>
            <button type="button" class="btn btn-primary" ng-click="addCategory()">
              추가
            </button>
          </div>
          <div class="col-sm-3">
            <input type="text" ng-model="toDeleteCategory" placeholder="삭제할 카테고리" uib-typeahead="x as x.name  for x in categories | filter:{name:$viewValue} | limitTo:8" typeahead-show-hint="true" typeahead-min-length="0" class="form-control">
            <button type="button" class="btn btn-primary" ng-click="deleteCategory()">
              삭제
            </button>
          </div>
          <div class="col-sm-3">
            <input type="text" placeholder ="계좌" ng-model="newAccount" class="form-control">
            <button type="button" class="btn btn-primary" ng-click="addAccount()">
              추가
            </button>
          </div>
          <div class="col-sm-3">
            <input type="text" ng-model="toDeleteAccount" placeholder="삭제할 계좌" uib-typeahead="x as x.name  for x in accounts | filter:{name:$viewValue} | limitTo:8" typeahead-show-hint="true" typeahead-min-length="0" class="form-control">
            <button type="button" class="btn btn-primary" ng-click="deleteAccount()">
              삭제
            </button>
          </div>
        </div>
        </div>
      </div>
    </div>
	</body>
</html>
